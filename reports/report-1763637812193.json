{
  "id": 1763637812193,
  "fileName": "login_form.php",
  "originalCode": "<?php\r\n    // Functie: programma login OOP \r\n    // Auteur: Furkan Kara\r\n\r\n    // Zet error reporting aan\r\n    error_reporting(E_ALL);\r\n    ini_set('display_errors', 1);\r\n\r\n    // Initialisatie\r\n    require_once('classes/User.php');\r\n    $user = new User();\r\n    $errors = [];    \r\n    \r\n    \r\n    echo \"<div style='background: #f0f0f0; padding: 10px; margin: 10px 0;'>\";\r\n    echo $user->testConnection();\r\n    echo \"</div>\";\r\n\r\n    \r\n    if(isset($_POST['login-btn']) ){\r\n\r\n        $user->username = $_POST['username'];\r\n        $user->setPassword($_POST['password']);\r\n\r\n        \r\n        echo \"<div style='background: #f0f0f0; padding: 10px; margin: 10px 0;'>\";\r\n        echo \"Debug info:<br>\";\r\n        echo \"Username: \" . htmlspecialchars($user->username) . \"<br>\";\r\n        echo \"Password length: \" . strlen($_POST['password']) . \"<br>\";\r\n        echo \"</div>\";\r\n\r\n        \r\n        $errors = $user->validateLogin();\r\n\r\n        \r\n        if(count($errors) == 0){\r\n            \r\n            if ($user->LoginUser()){\r\n                echo \"<div style='color: green;'>Login succesvol!</div>\";\r\n                \r\n                header(\"location: index.php\");\r\n                exit();\r\n            } else {\r\n                array_push($errors, \"Login mislukt - verkeerde gebruikersnaam of wachtwoord\");\r\n            }\r\n        }\r\n    }\r\n?>\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Login</title>\r\n</head>\r\n<body>\r\n\r\n    <h3>PHP - PDO Login and Registration</h3>\r\n    <hr/>\r\n    \r\n    <?php if(count($errors) > 0): ?>\r\n        <div style=\"color: red; border: 1px solid red; padding: 10px; margin: 10px 0;\">\r\n            <strong>Fouten gevonden:</strong><br>\r\n            <?php foreach($errors as $error): ?>\r\n                - <?php echo htmlspecialchars($error); ?><br>\r\n            <?php endforeach; ?>\r\n        </div>\r\n    <?php endif; ?>\r\n    \r\n    <form action=\"\" method=\"POST\">    \r\n        <h4>Login here...</h4>\r\n        <hr>\r\n        \r\n        <label>Username</label>\r\n        <input type=\"text\" name=\"username\" value=\"<?php echo isset($_POST['username']) ? htmlspecialchars($_POST['username']) : ''; ?>\" required />\r\n        <br><br>\r\n        <label>Password</label>\r\n        <input type=\"password\" name=\"password\" required />\r\n        <br><br>\r\n        <button type=\"submit\" name=\"login-btn\">Login</button>\r\n        <br><br>\r\n        <a href=\"register_form.php\">Registration</a>\r\n    </form>\r\n        \r\n</body>\r\n</html>",
  "improvedCode": "<?php\r\n    // Functie: programma login OOP \r\n    // Auteur: Furkan Kara\r\n\r\n    // Zet error reporting aan\r\n    error_reporting(E_ALL);\r\n    ini_set('display_errors', 1);\r\n\r\n    // Initialisatie\r\n    require_once('classes/User.php');\r\n    $user = new User();\r\n    $errors = [];    \r\n    \r\n    \r\n    echo \"<div style='background: #f0f0f0; padding: 10px; margin: 10px 0;'>\";\r\n    echo $user->testConnection();\r\n    echo \"</div>\";\r\n\r\n    \r\n    if(isset($_POST['login-btn']) ){\r\n\r\n        $user->username = $_POST['username'];\r\n        $user->setPassword($_POST['password']);\r\n\r\n        \r\n        echo \"<div style='background: #f0f0f0; padding: 10px; margin: 10px 0;'>\";\r\n        echo \"Debug info:<br>\";\r\n        echo \"Username: \" . htmlspecialchars($user->username) . \"<br>\";\r\n        echo \"Password length: \" . strlen($_POST['password']) . \"<br>\";\r\n        echo \"</div>\";\r\n\r\n        \r\n        $errors = $user->validateLogin();\r\n\r\n        \r\n        if(count($errors) == 0){\r\n            \r\n            if ($user->LoginUser()){\r\n                echo \"<div style='color: green;'>Login succesvol!</div>\";\r\n                \r\n                header(\"location: index.php\");\r\n                exit();\r\n            } else {\r\n                array_push($errors, \"Login mislukt - verkeerde gebruikersnaam of wachtwoord\");\r\n            }\r\n        }\r\n    }\r\n?>\r\n\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>Login</title>\r\n</head>\r\n<body>\r\n\r\n    <h3>PHP - PDO Login and Registration</h3>\r\n    <hr/>\r\n    \r\n    <?php if(count($errors) > 0): ?>\r\n        <div style=\"color: red; border: 1px solid red; padding: 10px; margin: 10px 0;\">\r\n            <strong>Fouten gevonden:</strong><br>\r\n            <?php foreach($errors as $error): ?>\r\n                - <?php echo htmlspecialchars($error); ?><br>\r\n            <?php endforeach; ?>\r\n        </div>\r\n    <?php endif; ?>\r\n    \r\n    <form action=\"\" method=\"POST\">    \r\n        <h4>Login here...</h4>\r\n        <hr>\r\n        \r\n        <label>Username</label>\r\n        <input type=\"text\" name=\"username\" value=\"<?php echo isset($_POST['username']) ? htmlspecialchars($_POST['username']) : ''; ?>\" required />\r\n        <br><br>\r\n        <label>Password</label>\r\n        <input type=\"password\" name=\"password\" required />\r\n        <br><br>\r\n        <button type=\"submit\" name=\"login-btn\">Login</button>\r\n        <br><br>\r\n        <a href=\"register_form.php\">Registration</a>\r\n    </form>\r\n        \r\n</body>\r\n</html>\n\n// ECHETE AI ANALYSE UITGESCHAKELD\n// Voeg geldige OpenAI API key toe voor gedetailleerde code review",
  "feedback": {
    "overall": "‚ùå OPENAI API QUOTA FOUT: Voeg een geldige API key toe voor echte AI code analyse.",
    "strengths": [
      "Code structuur vereist analyse",
      "Variabele namen vereisen review"
    ],
    "improvements": [
      "Verkrijg OpenAI API key voor echte analyse",
      "Controleer billing en quota instellingen",
      "Activeer AI voor gedetailleerde feedback"
    ],
    "bestPractices": [
      "Gebruik geldige API credentials",
      "Monitor API gebruik en quotas",
      "Implementeer goede foutafhandeling"
    ]
  },
  "statistics": {
    "complexity": "unknown",
    "readability": "0",
    "maintainability": "0",
    "efficiency": "0"
  },
  "timestamp": "2025-11-20T11:23:32.193Z",
  "language": "nl",
  "aiEnabled": false
}